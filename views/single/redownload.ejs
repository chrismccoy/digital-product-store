<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Redownload Purchase // <%= product.name %></title>
		<link href="/css/app.css" rel="stylesheet" />
	</head>
	<body class="bg-white text-black font-mono">
		<div class="max-w-7xl mx-auto p-4 sm-p-6 lg:p-8">
			<header
				class="flex justify-between items-center py-4 border-b-4 border-black"
			>
				<h1 class="text-2xl md:text-3xl font-bold uppercase">
					<a href="<%= homeURL %>" class="hover:bg-yellow-300"><%= homeText %></a>
				</h1>
			</header>

			<main>
				<section
					id="redownload-intro"
					class="text-center pt-12 md:pt-16 pb-8"
				>
					<h2
						class="text-5xl md:text-7xl lg:text-8xl font-extrabold uppercase tracking-tighter"
					>
						Redownload Your Product
					</h2>
					<p class="max-w-2xl mx-auto mt-6 text-lg">
						Enter your Transaction ID <strong>or</strong> the Email Address
						you used at purchase to regain access to your download.
					</p>
				</section>

				<section id="verify-form-section" class="max-w-2xl mx-auto mt-8">
					<form
						id="redownload-form"
						class="border-2 border-black p-6 space-y-6 bg-neutral-50"
					>
						<div>
							<label
								for="transactionId"
								class="block text-sm uppercase text-neutral-600 mb-2"
								>PayPal Transaction ID</label
							>
							<input
								type="text"
								id="transactionId"
								name="transactionId"
								class="block w-full p-4 text-2xl font-bold border-2 border-black focus:outline-none focus:ring-4 focus:ring-yellow-300"
							/>
						</div>

						<div
							class="relative flex py-2 items-center"
							aria-hidden="true"
						>
							<div class="flex-grow border-t-2 border-black"></div>
							<span
								class="flex-shrink mx-4 text-black font-bold uppercase"
								>Or</span
							>
							<div class="flex-grow border-t-2 border-black"></div>
						</div>

						<div>
							<label
								for="email"
								class="block text-sm uppercase text-neutral-600 mb-2"
								>Purchase Email Address</label
							>
							<input
								type="email"
								id="email"
								name="email"
								class="block w-full p-4 text-2xl font-bold border-2 border-black focus:outline-none focus:ring-4 focus:ring-yellow-300"
							/>
						</div>

						<div id="error-container"></div>

						<button
							type="submit"
							class="block w-full text-center px-8 py-5 bg-yellow-300 text-black text-xl font-bold border-2 border-black uppercase transition-all duration-150 hover:-translate-x-1 hover:-translate-y-1 hover:shadow-[8px_8px_0px_#000]"
						>
							Verify & Download
						</button>
					</form>
					<div id="result-container" class="mt-8 text-center"></div>
				</section>
			</main>

			<footer class="py-12 mt-16 border-t-4 border-black text-center">
				<p class="mt-12 text-sm text-neutral-600">
					&copy; 2025 <%= footerDomain %>. ALL RIGHTS RESERVED.
				</p>
			</footer>
		</div>

		<script src="/js/redownload-handler.js"></script>
	</body>
</html>
